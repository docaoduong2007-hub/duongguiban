<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game B·∫Øt Ru·ªìi</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            cursor: crosshair; /* ƒê·ªïi con tr·ªè chu·ªôt th√†nh h√¨nh d·∫•u c·ªông */
        }

        .fly-container {
            position: absolute;
            width: 80px;
            height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s;
        }

        .fly {
            font-size: 40px;
            user-select: none;
        }

        .speech-bubble {
            background: white;
            border: 2px solid black;
            border-radius: 10px;
            padding: 5px;
            font-size: 12px;
            font-weight: bold;
            color: red;
            display: none; /* ·∫®n khi ch∆∞a b·ªã b·∫Øt */
            margin-bottom: 5px;
            white-space: nowrap;
        }
    </style>
</head>
<body>

    <h2 style="text-align: center;">Di chu·ªôt ch·∫°m v√†o l≈© ru·ªìi!</h2>

    <script>
        const flyCount = 5;
        const flies = [];

        function createFly() {
            const container = document.createElement('div');
            container.className = 'fly-container';
            
            // T·∫°o bong b√≥ng tho·∫°i
            const bubble = document.createElement('div');
            bubble.className = 'speech-bubble';
            bubble.innerText = 'memaybeo';
            
            // T·∫°o h√¨nh con ru·ªìi
            const flyIcon = document.createElement('div');
            flyIcon.className = 'fly';
            flyIcon.innerText = 'ü™∞';

            container.appendChild(bubble);
            container.appendChild(flyIcon);
            document.body.appendChild(container);

            const flyObj = {
                element: container,
                bubble: bubble,
                x: Math.random() * (window.innerWidth - 80),
                y: Math.random() * (window.innerHeight - 80),
                dx: (Math.random() - 0.5) * 6,
                dy: (Math.random() - 0.5) * 6,
                isCaught: false
            };

            // S·ª± ki·ªán khi di chu·ªôt tr√∫ng ru·ªìi
            container.addEventListener('mouseenter', () => {
                if (!flyObj.isCaught) {
                    catchFly(flyObj);
                }
            });

            return flyObj;
        }

        function catchFly(fly) {
            fly.isCaught = true;
            fly.bubble.style.display = 'block'; // Hi·ªán ch·ªØ
            
            // Sau 0.5 gi√¢y th√¨ bi·∫øn m·∫•t h·∫≥n
            setTimeout(() => {
                fly.element.style.opacity = '0';
                fly.element.style.pointerEvents = 'none'; // Kh√¥ng cho t∆∞∆°ng t√°c khi ƒëang ·∫©n
            }, 500);

            // Sau 5 gi√¢y hi·ªán l·∫°i ·ªü v·ªã tr√≠ ng·∫´u nhi√™n m·ªõi
            setTimeout(() => {
                fly.x = Math.random() * (window.innerWidth - 80);
                fly.y = Math.random() * (window.innerHeight - 80);
                fly.isCaught = false;
                fly.bubble.style.display = 'none';
                fly.element.style.opacity = '1';
                fly.element.style.pointerEvents = 'auto';
            }, 5500); // 5s ·∫©n + 0.5s ch·ªù ban ƒë·∫ßu
        }

        function moveFlies() {
            flies.forEach(fly => {
                if (!fly.isCaught) {
                    // C·∫≠p nh·∫≠t v·ªã tr√≠
                    fly.x += fly.dx;
                    fly.y += fly.dy;

                    // Va ch·∫°m t∆∞·ªùng
                    if (fly.x <= 0 || fly.x >= window.innerWidth - 60) fly.dx *= -1;
                    if (fly.y <= 0 || fly.y >= window.innerHeight - 60) fly.dy *= -1;

                    fly.element.style.left = fly.x + 'px';
                    fly.element.style.top = fly.y + 'px';
                }
            });
            requestAnimationFrame(moveFlies);
        }

        // Kh·ªüi t·∫°o 5 con ru·ªìi
        for (let i = 0; i < flyCount; i++) {
            flies.push(createFly());
        }

        moveFlies();
    </script>
</body>
</html>
